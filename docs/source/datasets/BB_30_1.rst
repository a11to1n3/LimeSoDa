BB.30_1 Dataset
==============

Description
-----------

* Target Soil Properties: SOC, pH, Clay
* Groups of Features: DEM, ERa, pH-ISE, VI 
* Sample size: 30
* Number of Features: 8
* Coordinates: With coordinates (EPSG: 25833)
* Location: Brandenburg, Germany
* Sampling Design: Multi Criteria Sampling (Bönecke et al. 2021) based on quantile coverage of the sensing-features (ERa and pH-ISE), clustering of large and low values of sensing-features and spatial coverage
* Study Area Size: 19 ha
* Geological Setting: Pleistocene young morainic landscape of the Weichselian glaciation with predominantly glacial sand
* Previous Data Publication: Target soil properties published but under boycott in Vogel et al. 2022
* Contact Information:
    * Sebastian Vogel (SVogel@atb-potsdam.de), Leibniz Institute for Agricultural Engineering and Bioeconomy (ATB)
* License: CC BY-SA 4.0
* Publication/Modification Date (d/m/y): XXX.2025, version 1.0
* Changelog:
    * Version 0.1.0 (XXX.2025): Initial release

Details
-------

The dataset contains the following target soil properties and features:

Target Soil Properties:

SOC - Soil Organic Carbon
    * Code: ``SOC_target``
    * Unit: %
    * Protocol: Measured CO₂ release during dry combustion after removing inorganic carbon with an acid (DIN ISO 10694)
    * Sampling Date: August & October 2017
    * Sampling Depth: 0 - 30 cm

pH
    * Code: ``pH_target``
    * Unit: Unitless
    * Protocol: Measured in CaCl₂ suspension with a glass electrode with a 5:1 liquid:soil volumetric ratio (DIN ISO 10390)
    * Sampling Date: August & October 2017
    * Sampling Depth: 0 - 30 cm

Clay
    * Code: ``Clay_target``
    * Unit: %
    * Protocol: Sieve-Pipette method, measured through fractioning the soil into the sand fractions by sieving, and the silt and clay fractions by sedimentation in water, German adaption (DIN ISO 11277)
    * Sampling Date: August & October 2017
    * Sampling Depth: 0 - 30 cm

Groups of Features:

DEM – Digital Elevation Model and Terrain Parameters
    * Number Features: 2
    * Code(s): ``Altitude, Slope``
    * Unit: ``Altitude`` in m, ``Slope`` in °
    * Sensing: Digital elevation model raster (5 m) based on LiDAR and photogrammetry from "GeoBasis-DE/LGB"
    * Processing: Calculating ``Slope`` with ``terrain`` function of the raster package, extracting DEM values from raster at soil sampling locations
    * Sampling Date: LiDAR March 2011, images for photogrammetry May 2022

ERa – Apparent Electrical Resistivity
    * Number Features: 1
    * Code(s): ``ERa``
    * Unit: Ω m
    * Sensing: EC Surveyor (VERIS Technologies, Salinas, USA) from VerisMSP3 with exploration depth of 0 - 30 cm, in-situ
    * Processing: Ordinary Kriging to align sensing- with soil sampling locations
    * Sampling Date: August 2017

pH-ISE – Ion Selective Electrodes for pH Determination
    * Number Features: 1
    * Code(s): ``pH-ISE``
    * Unit: Unitless
    * Sensing: Soil pH Manager (VERIS Technologies, Salinas, USA) from VerisMSP3, in-situ
    * Processing: Ordinary Kriging to align sensing- with soil sampling locations
    * Sampling Date: August 2017

VI - Vegetation Indices
    * Number Features: 1
    * Code(s): ``NDVI``
    * Unit: Unitless
    * Sensing: Sentinel-2 Image during vegetative period (Level-2A) from "Copernicus Open Access Hub"
    * Processing: Calculating ``NDVI`` as (B08 - B04) / (B08 + B04), extracting VI values from raster at soil sampling locations
    * Sampling Date: May 2017

Examples
--------

.. code-block:: python

    # Load and explore the dataset
    data = load_dataset("BB.30_1")
    dataset = data["Dataset"]
    folds = data["Folds"]
    coords = data["Coordinates"]

    # Split into train/test using fold 1
    X_train, X_test, y_train, y_test = split_dataset(
        data=data,
        fold=1,
        targets=["pH_target", "SOC_target", "clay_target"]
    )

    # Calculate model performance
    predictions = model.predict(X_test)
    metrics = calculate_performance(y_test, predictions)
    print(f"R2: {metrics['r2']:.3f}, RMSE: {metrics['rmse']:.3f}")

    # Visualize soil properties
    soil_map = plot_soil_map(data, "pH_target", zoom_start=14)
    soil_map.save("BB30_1_pH_map.html")

References
----------

Vogel S., Bönecke E., Kling C., Kramer E., Lück K., Nagel A., Philipp G., Rühlmann J., Schröter I. & Gebbers, R. (2022), Base neutralizing capacity from agricultural fields in the quaternary landscape of North-East Germany, BONARES Repository, https://doi.org/10.20387/bonares-zh3x-nd80

Bönecke, E., Meyer, S., Vogel, S., Schröter, I., Gebbers, R., Kling, C., Kramer, E., Lück, K., Nagel A., Philipp, G., Gerlach F., Palme S., Scheibe D., Ziegler K. & Rühlmann, J. (2021). Guidelines for precise lime management based on high-resolution soil pH, texture and SOM maps generated from proximal soil sensing data. Precision Agriculture, 22, 493-523.
